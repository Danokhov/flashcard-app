import re
import json

# Ğ§Ğ¸Ñ‚Ğ°ĞµĞ¼ index.html
with open('index.html', 'r', encoding='utf-8') as f:
    html_content = f.read()

# Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ´Ğ»Ñ Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ñ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ğ¸
app_structure = {
    "screens": {},
    "buttons": [],
    "functions": {},
    "navigation": []
}

# 1. ĞĞ°Ğ¹Ñ‚Ğ¸ Ğ²ÑĞµ ÑĞºÑ€Ğ°Ğ½Ñ‹ (divs Ñ id Ğ¸ ĞºĞ»Ğ°ÑÑĞ¾Ğ¼ main-content)
screen_pattern = r'<div id="([^"]+)"[^>]*class="[^"]*main-content[^"]*"'
screens = re.findall(screen_pattern, html_content)
print(f"ĞĞ°Ğ¹Ğ´ĞµĞ½Ğ¾ ÑĞºÑ€Ğ°Ğ½Ğ¾Ğ²: {len(screens)}")
for screen in screens:
    app_structure["screens"][screen] = {
        "id": screen,
        "buttons_on_screen": []
    }

# 2. ĞĞ°Ğ¹Ñ‚Ğ¸ Ğ²ÑĞµ ĞºĞ½Ğ¾Ğ¿ĞºĞ¸ Ñ onclick
button_pattern = r'<button[^>]*onclick="([^"]+)"[^>]*>([^<]*(?:<[^>]+>[^<]*)*)</button>'
buttons = re.findall(button_pattern, html_content, re.DOTALL)
print(f"ĞĞ°Ğ¹Ğ´ĞµĞ½Ğ¾ ĞºĞ½Ğ¾Ğ¿Ğ¾Ğº: {len(buttons)}")

# 3. ĞĞ°Ğ¹Ñ‚Ğ¸ Ğ¾ÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ğµ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸ Ğ½Ğ°Ğ²Ğ¸Ğ³Ğ°Ñ†Ğ¸Ğ¸
nav_functions = [
    'renderHomeScreen',
    'renderAllSetsScreen', 
    'renderTopicSelection',
    'renderWeekContent',
    'startCarouselSession',
    'startMantraSession',
    'startSession',
    'showScreen',
    'openWordDetailScreen',
    'renderTopicWords',
    'promptForDirection'
]

for func_name in nav_functions:
    # ĞĞ°Ğ¹Ñ‚Ğ¸ Ğ¾Ğ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ¸Ğµ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸
    func_pattern = rf'{func_name}\s*\([^)]*\)\s*{{([^}}]*(?:{{[^}}]*}})*[^}}]*)}}'
    func_match = re.search(func_pattern, html_content, re.DOTALL)
    if func_match:
        func_body = func_match.group(1)[:500]  # ĞŸĞµÑ€Ğ²Ñ‹Ğµ 500 ÑĞ¸Ğ¼Ğ²Ğ¾Ğ»Ğ¾Ğ²
        app_structure["functions"][func_name] = {
            "name": func_name,
            "body_preview": func_body.strip()
        }

# 4. ĞŸĞ¾ÑÑ‚Ñ€Ğ¾Ğ¸Ñ‚ÑŒ ĞºĞ°Ñ€Ñ‚Ñƒ Ğ½Ğ°Ğ²Ğ¸Ğ³Ğ°Ñ†Ğ¸Ğ¸
navigation_map = {
    "Ğ“Ğ»Ğ°Ğ²Ğ½Ğ°Ñ (home-screen)": {
        "buttons": [
            "ğŸ“š Ğ’ ÑƒÑ‡ĞµĞ±Ğµ â†’ renderAllSetsScreen()",
            "Ğ¢ĞµĞ¼Ñ‹ â†’ renderTopicSelection()",
            "ĞĞµĞ´ĞµĞ»Ñ N â†’ renderWeekContent(N)"
        ]
    },
    "Ğ’ ÑƒÑ‡ĞµĞ±Ğµ (list-screen)": {
        "buttons": [
            "Ğš Ğ¿Ğ¾Ğ²Ñ‚Ğ¾Ñ€Ñƒ â†’ promptForDirection() â†’ startSession(mode='review')",
            "ĞŸÑ€Ğ°ĞºÑ‚Ğ¸ĞºĞ° Ğ²ÑĞµÑ… ÑĞ»Ğ¾Ğ² â†’ promptForDirection() â†’ startSession(mode='practice-all')"
        ]
    },
    "Ğ¢ĞµĞ¼Ñ‹ (topics-screen)": {
        "buttons": [
            "Ğ¢ĞµĞ¼Ğ° â†’ renderTopicWords(topicId)",
            "Ğ£Ğ¿Ñ€Ğ°Ğ¶Ğ½ĞµĞ½Ğ¸Ñ â†’ openExercisesModal()"
        ]
    },
    "Ğ¡Ğ»Ğ¾Ğ²Ğ° Ñ‚ĞµĞ¼Ñ‹ (list-screen)": {
        "buttons": [
            "Ğ¡Ğ»Ğ¾Ğ²Ğ¾ â†’ openWordDetailScreen()",
            "Ğ£Ñ‡Ğ¸Ñ‚ÑŒ â†’ addToStudyList()"
        ]
    },
    "Ğ”ĞµÑ‚Ğ°Ğ»Ğ¸ ÑĞ»Ğ¾Ğ²Ğ° (word-detail-screen)": {
        "buttons": [
            "ĞÑÑĞ¾Ñ†Ğ¸Ğ°Ñ†Ğ¸Ñ â†’ Ğ¾Ñ‚ĞºÑ€Ñ‹Ğ²Ğ°ĞµÑ‚ Ğ¼Ğ¾Ğ´Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ Ğ¾ĞºĞ½Ğ¾",
            "Ğ£Ñ‡Ğ¸Ñ‚ÑŒ â†’ addToStudyList()",
            "ğŸ”Š â†’ speakGerman()"
        ]
    },
    "Ğ¡ĞµÑÑĞ¸Ñ Ğ¾Ğ±ÑƒÑ‡ĞµĞ½Ğ¸Ñ (study-screen)": {
        "modes": [
            "review: Ğš Ğ¿Ğ¾Ğ²Ñ‚Ğ¾Ñ€Ñƒ",
            "practice-all: ĞŸÑ€Ğ°ĞºÑ‚Ğ¸ĞºĞ° Ğ²ÑĞµÑ… ÑĞ»Ğ¾Ğ²"
        ],
        "buttons": [
            "ĞŸĞ¾ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ Ğ¾Ñ‚Ğ²ĞµÑ‚ â†’ showAnswer()",
            "ĞŸĞ¾Ğ¼Ğ½Ñ/ĞĞµ Ğ¿Ğ¾Ğ¼Ğ½Ñ â†’ handleAnswer()",
            "ĞĞ°Ğ·Ğ°Ğ´/Ğ’Ğ¿ĞµÑ€ĞµĞ´ â†’ prevCard()/nextCard()"
        ],
        "Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ¸Ğµ": "Ğ’Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚ Ğº list-screen (Ğ’ ÑƒÑ‡ĞµĞ±Ğµ)"
    },
    "ĞœĞ¾Ğ´Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ Ğ¾ĞºĞ½Ğ°": {
        "direction-modal": "Ğ’Ñ‹Ğ±Ğ¾Ñ€ Ğ½Ğ°Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ: RUâ†’DE Ğ¸Ğ»Ğ¸ DEâ†’RU",
        "hint-modal": "ĞŸĞ¾ĞºĞ°Ğ· Ğ¿Ğ¾Ğ´ÑĞºĞ°Ğ·ĞºĞ¸",
        "association-modal": "ĞšĞ°Ñ€Ñ‚Ğ¸Ğ½ĞºĞ° + Ñ‚ĞµĞºÑÑ‚ Ğ°ÑÑĞ¾Ñ†Ğ¸Ğ°Ñ†Ğ¸Ğ¸"
    }
}

# Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½Ğ¸Ñ‚ÑŒ Ğ² JSON
with open('app_navigation_map.json', 'w', encoding='utf-8') as f:
    json.dump(navigation_map, f, ensure_ascii=False, indent=2)

# Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ñ‚ĞµĞºÑÑ‚Ğ¾Ğ²ÑƒÑ ÑÑ…ĞµĞ¼Ñƒ
schema_text = """
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                        Ğ¡Ğ¥Ğ•ĞœĞ ĞĞĞ’Ğ˜Ğ“ĞĞ¦Ğ˜Ğ˜ ĞŸĞ Ğ˜Ğ›ĞĞ–Ğ•ĞĞ˜Ğ¯                         â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Ğ“Ğ›ĞĞ’ĞĞĞ¯ Ğ¡Ğ¢Ğ ĞĞĞ˜Ğ¦Ğ (home-screen)                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ĞšĞ½Ğ¾Ğ¿ĞºĞ¸:                                                                 â”‚
â”‚    â€¢ ğŸ“š Ğ’ ÑƒÑ‡ĞµĞ±Ğµ â†’ renderAllSetsScreen()                                 â”‚
â”‚    â€¢ ğŸ“… Ğ¢ĞµĞ¼Ñ‹ â†’ renderTopicSelection()                                   â”‚
â”‚    â€¢ ğŸ“– ĞĞµĞ´ĞµĞ»Ñ N â†’ renderWeekContent(N)                                 â”‚
â”‚    â€¢ Ğš Ğ¿Ğ¾Ğ²Ñ‚Ğ¾Ñ€ĞµĞ½Ğ¸Ñ ÑĞµĞ³Ğ¾Ğ´Ğ½Ñ â†’ promptForDirection() â†’ startSession()       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â–¼                           â–¼                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Ğ’ Ğ£Ğ§Ğ•Ğ‘Ğ•         â”‚    â”‚  Ğ¢Ğ•ĞœĞ«            â”‚    â”‚  ĞĞ•Ğ”Ğ•Ğ›Ğ¯ N        â”‚
â”‚  (list-screen)   â”‚    â”‚ (topics-screen)  â”‚    â”‚  (Ñ€Ğ°Ğ·Ğ½Ñ‹Ğµ ÑĞºÑ€Ğ°Ğ½Ñ‹) â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ĞĞ°Ğ±Ğ¾Ñ€Ñ‹ ÑĞ»Ğ¾Ğ²:    â”‚    â”‚  Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº Ñ‚ĞµĞ¼ Ñ    â”‚    â”‚  â€¢ Ğ’Ğ¸Ğ´ĞµĞ¾         â”‚
â”‚  â€¢ Ğš Ğ¿Ğ¾Ğ²Ñ‚Ğ¾Ñ€Ñƒ (N) â”‚    â”‚  Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸ÑĞ¼Ğ¸      â”‚    â”‚  â€¢ Ğ¢ĞµĞºÑÑ‚Ñ‹        â”‚
â”‚  â€¢ ĞŸÑ€Ğ°ĞºÑ‚Ğ¸ĞºĞ° Ğ²ÑĞµÑ… â”‚    â”‚                  â”‚    â”‚  â€¢ ĞšĞ°Ñ€ÑƒÑĞµĞ»ÑŒ      â”‚
â”‚    ÑĞ»Ğ¾Ğ²          â”‚    â”‚  ĞšĞ½Ğ¾Ğ¿ĞºĞ¸:         â”‚    â”‚  â€¢ ĞœĞ°Ğ½Ñ‚Ñ€Ñ‹        â”‚
â”‚                  â”‚    â”‚  â€¢ Ğ¢ĞµĞ¼Ğ° â†’        â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚  ĞŸÑ€Ğ¸ Ğ½Ğ°Ğ¶Ğ°Ñ‚Ğ¸Ğ¸:    â”‚    â”‚    Ğ¡Ğ»Ğ¾Ğ²Ğ° Ğ¿Ğ¾ Ñ‚ĞµĞ¼Ğµ â”‚
â”‚  â†“               â”‚    â”‚  â€¢ Ğ£Ğ¿Ñ€Ğ°Ğ¶Ğ½ĞµĞ½Ğ¸Ñ â†’  â”‚
â”‚  direction-modal â”‚    â”‚    ĞœĞ¾Ğ´Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ Ğ¾ĞºĞ½Ğ¾â”‚
â”‚  (RUâ†’DE/DEâ†’RU)   â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚  â†“               â”‚              â”‚
â”‚  startSession()  â”‚              â–¼
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚               â”‚  Ğ¡Ğ›ĞĞ’Ğ ĞŸĞ Ğ¢Ğ•ĞœĞ•   â”‚
        â”‚               â”‚  (list-screen)   â”‚
        â”‚               â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
        â”‚               â”‚  Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº ÑĞ»Ğ¾Ğ²     â”‚
        â”‚               â”‚                  â”‚
        â”‚               â”‚  ĞŸÑ€Ğ¸ ĞºĞ»Ğ¸ĞºĞµ:      â”‚
        â”‚               â”‚  â†“               â”‚
        â”‚               â”‚  openWordDetail  â”‚
        â”‚               â”‚  Screen()        â”‚
        â”‚               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                       â”‚
        â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Ğ¡Ğ•Ğ¡Ğ¡Ğ˜Ğ¯ ĞĞ‘Ğ£Ğ§Ğ•ĞĞ˜Ğ¯ â”‚    â”‚  Ğ”Ğ•Ğ¢ĞĞ›Ğ˜ Ğ¡Ğ›ĞĞ’Ğ    â”‚
â”‚  (study-screen)  â”‚    â”‚ (word-detail-    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚  screen)         â”‚
â”‚  ĞšĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞºĞ¸:       â”‚    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ Ğ›Ğ¸Ñ†ĞµĞ²Ğ°Ñ       â”‚    â”‚  â€¢ ĞĞµĞ¼ĞµÑ†ĞºĞ¾Ğµ ÑĞ»Ğ¾Ğ²Ğ¾â”‚
â”‚  â€¢ ĞĞ±Ğ¾Ñ€Ğ¾Ñ‚Ğ½Ğ°Ñ     â”‚    â”‚  â€¢ ğŸ”Š ĞĞ·Ğ²ÑƒÑ‡ĞºĞ°    â”‚
â”‚                  â”‚    â”‚  â€¢ Ğ¢Ñ€Ğ°Ğ½ÑĞºÑ€Ğ¸Ğ¿Ñ†Ğ¸Ñ  â”‚
â”‚  Ğ ĞµĞ¶Ğ¸Ğ¼Ñ‹:         â”‚    â”‚  â€¢ ĞŸĞµÑ€ĞµĞ²Ğ¾Ğ´       â”‚
â”‚  1. Review:      â”‚    â”‚  â€¢ Ğ§Ğ°ÑÑ‚ÑŒ Ñ€ĞµÑ‡Ğ¸    â”‚
â”‚     ĞŸĞ¾Ğ¼Ğ½Ñ/ĞĞµ     â”‚    â”‚  â€¢ Ğ¢ĞµĞ¼Ñ‹          â”‚
â”‚     Ğ¿Ğ¾Ğ¼Ğ½Ñ        â”‚    â”‚  â€¢ ĞŸÑ€Ğ¸Ğ¼ĞµÑ€        â”‚
â”‚  2. Practice-all:â”‚    â”‚                  â”‚
â”‚     ĞĞ°Ğ·Ğ°Ğ´/Ğ’Ğ¿ĞµÑ€ĞµĞ´ â”‚    â”‚  ĞšĞ½Ğ¾Ğ¿ĞºĞ¸:         â”‚
â”‚                  â”‚    â”‚  â€¢ ĞÑÑĞ¾Ñ†Ğ¸Ğ°Ñ†Ğ¸Ñ â†’  â”‚
â”‚  ĞŸĞ¾ÑĞ»Ğµ Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ½ĞµĞ¹:â”‚    â”‚    ĞœĞ¾Ğ´Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ Ğ¾ĞºĞ½Ğ¾â”‚
â”‚  â†“               â”‚    â”‚  â€¢ Ğ£Ñ‡Ğ¸Ñ‚ÑŒ â†’       â”‚
â”‚  Ğ’Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚ Ğº       â”‚    â”‚    addToStudyListâ”‚
â”‚  list-screen     â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚  (Ğ’ ÑƒÑ‡ĞµĞ±Ğµ)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                           ĞĞ˜Ğ–ĞĞ•Ğ• ĞœĞ•ĞĞ® (footer)                            â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘  â€¢ Ğ“Ğ»Ğ°Ğ²Ğ½Ğ°Ñ â†’ renderHomeScreen(false, true)                                â•‘
â•‘  â€¢ Ğ’ ÑƒÑ‡ĞµĞ±Ğµ â†’ renderAllSetsScreen()                                        â•‘
â•‘  â€¢ Ğ’ÑĞµ Ğ¢ĞµĞ¼Ñ‹ â†’ renderTopicSelection()                                      â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                         ĞœĞĞ”ĞĞ›Ğ¬ĞĞ«Ğ• ĞĞšĞĞ                                    â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘  1. direction-modal - Ğ’Ñ‹Ğ±Ğ¾Ñ€ Ğ½Ğ°Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ğ¾Ğ±ÑƒÑ‡ĞµĞ½Ğ¸Ñ (RUâ†’DE / DEâ†’RU)         â•‘
â•‘  2. hint-modal - ĞŸĞ¾ĞºĞ°Ğ· Ğ¿Ğ¾Ğ´ÑĞºĞ°Ğ·ĞºĞ¸ Ñ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸ĞµĞ¼                           â•‘
â•‘  3. mantra-modal - ĞœĞ°Ğ½Ñ‚Ñ€Ñ‹ (Ñ„Ñ€Ğ°Ğ·Ñ‹ Ğ´Ğ»Ñ Ğ·Ğ°Ğ¿Ğ¾Ğ¼Ğ¸Ğ½Ğ°Ğ½Ğ¸Ñ)                         â•‘
â•‘  4. association-modal - ĞÑÑĞ¾Ñ†Ğ¸Ğ°Ñ†Ğ¸Ñ (ĞºĞ°Ñ€Ñ‚Ğ¸Ğ½ĞºĞ° + Ñ‚ĞµĞºÑÑ‚)                     â•‘
â•‘  5. exercises-modal - Ğ£Ğ¿Ñ€Ğ°Ğ¶Ğ½ĞµĞ½Ğ¸Ñ Ğ¿Ğ¾ Ñ‚ĞµĞ¼Ğµ                                  â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    ĞĞ¡ĞĞĞ’ĞĞ«Ğ• Ğ¤Ğ£ĞĞšĞ¦Ğ˜Ğ˜ ĞĞĞ’Ğ˜Ğ“ĞĞ¦Ğ˜Ğ˜                             â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘  renderHomeScreen() - ĞÑ‚Ñ€Ğ¸ÑĞ¾Ğ²ĞºĞ° Ğ³Ğ»Ğ°Ğ²Ğ½Ğ¾Ğ¹ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñ‹                          â•‘
â•‘  renderAllSetsScreen() - Ğ­ĞºÑ€Ğ°Ğ½ "Ğ’ ÑƒÑ‡ĞµĞ±Ğµ" (Ğ½Ğ°Ğ±Ğ¾Ñ€Ñ‹ ÑĞ»Ğ¾Ğ²)                    â•‘
â•‘  renderTopicSelection() - Ğ­ĞºÑ€Ğ°Ğ½ Ğ²Ñ‹Ğ±Ğ¾Ñ€Ğ° Ñ‚ĞµĞ¼                                â•‘
â•‘  renderTopicWords(topicId) - Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº ÑĞ»Ğ¾Ğ² Ñ‚ĞµĞ¼Ñ‹                             â•‘
â•‘  openWordDetailScreen(word) - Ğ”ĞµÑ‚Ğ°Ğ»Ğ¸ ÑĞ»Ğ¾Ğ²Ğ° (Ğ½Ğ¾Ğ²Ñ‹Ğ¹ ÑĞºÑ€Ğ°Ğ½)                  â•‘
â•‘  promptForDirection() - ĞœĞ¾Ğ´Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ Ğ¾ĞºĞ½Ğ¾ Ğ²Ñ‹Ğ±Ğ¾Ñ€Ğ° Ğ½Ğ°Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ                 â•‘
â•‘  startSession(setId, mode) - Ğ—Ğ°Ğ¿ÑƒÑĞº ÑĞµÑÑĞ¸Ğ¸ Ğ¾Ğ±ÑƒÑ‡ĞµĞ½Ğ¸Ñ                       â•‘
â•‘  showNextCard() - ĞŸĞ¾ĞºĞ°Ğ· ÑĞ»ĞµĞ´ÑƒÑÑ‰ĞµĞ¹ ĞºĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞºĞ¸                                â•‘
â•‘  handleAnswer(knewIt) - ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ° Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ                     â•‘
â•‘  nextCard() / prevCard() - ĞĞ°Ğ²Ğ¸Ğ³Ğ°Ñ†Ğ¸Ñ Ğ² Ñ€ĞµĞ¶Ğ¸Ğ¼Ğµ practice-all                â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                         Ğ›ĞĞ“Ğ˜ĞšĞ Ğ’ĞĞ—Ğ’Ğ ĞĞ¢Ğ                                   â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘  â€¢ ĞŸĞ¾ÑĞ»Ğµ Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ¸Ñ ÑĞµÑÑĞ¸Ğ¸ Ğ¸Ğ· "Ğ’ ÑƒÑ‡ĞµĞ±Ğµ" (tempSource === 'allsets'):      â•‘
â•‘    â†’ ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚ Ğº renderAllSetsScreen()                       â•‘
â•‘  â€¢ ĞŸĞ¾ÑĞ»Ğµ Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ¸Ñ ÑĞµÑÑĞ¸Ğ¸ Ğ¸Ğ· Ğ´Ñ€ÑƒĞ³Ğ¸Ñ… Ğ¼ĞµÑÑ‚:                                â•‘
â•‘    â†’ ĞŸĞ¾ĞºĞ°Ğ· finish-screen Ñ ĞºĞ½Ğ¾Ğ¿ĞºĞ¾Ğ¹ "Ğ’ Ğ¼ĞµĞ½Ñ"                               â•‘
â•‘  â€¢ ĞšĞ½Ğ¾Ğ¿ĞºĞ° Ğ½Ğ°Ğ·Ğ°Ğ´ Ğ² Ğ´ĞµÑ‚Ğ°Ğ»ÑŒĞ½Ğ¾Ğ¼ ÑĞºÑ€Ğ°Ğ½Ğµ ÑĞ»Ğ¾Ğ²Ğ°:                                 â•‘
â•‘    â†’ Ğ’Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚ Ğº ÑĞ¿Ğ¸ÑĞºÑƒ ÑĞ»Ğ¾Ğ² Ñ‚ĞµĞ¼Ñ‹ (renderTopicWords)                        â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
"""

with open('app_navigation_schema.txt', 'w', encoding='utf-8') as f:
    f.write(schema_text)

print("\nâœ… ĞĞ½Ğ°Ğ»Ğ¸Ğ· Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½!")
print(f"Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¾ Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²:")
print(f"  1. app_navigation_map.json - JSON ĞºĞ°Ñ€Ñ‚Ğ° Ğ½Ğ°Ğ²Ğ¸Ğ³Ğ°Ñ†Ğ¸Ğ¸")
print(f"  2. app_navigation_schema.txt - Ğ¢ĞµĞºÑÑ‚Ğ¾Ğ²Ğ°Ñ ÑÑ…ĞµĞ¼Ğ°")
print(f"\nĞĞ°Ğ¹Ğ´ĞµĞ½Ğ¾:")
print(f"  â€¢ Ğ­ĞºÑ€Ğ°Ğ½Ğ¾Ğ²: {len(screens)}")
print(f"  â€¢ ĞšĞ½Ğ¾Ğ¿Ğ¾Ğº: {len(buttons)}")
print(f"  â€¢ Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ğ¹ Ğ½Ğ°Ğ²Ğ¸Ğ³Ğ°Ñ†Ğ¸Ğ¸: {len(app_structure['functions'])}")
